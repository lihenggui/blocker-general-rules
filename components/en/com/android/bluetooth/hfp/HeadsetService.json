{
    "name": "com.android.bluetooth.hfp.HeadsetService",
    "description": "Provides Bluetooth Headset and Handsfree profile, as a service in the Bluetooth application. Three modes for SCO audio: Mode 1: Telecom call through #phoneStateChanged(int, int, int, String, int, String, boolean) Mode 2: Virtual call through #startScoUsingVirtualVoiceCall() Mode 3: Voice recognition through #startVoiceRecognition(BluetoothDevice) When one mode is active, other mode cannot be started. API user has to terminate existing modes using the correct API or just #disconnectAudio() if user is a system service, before starting a new mode. #connectAudio() will start SCO audio at one of the above modes, but won't change mode #disconnectAudio() can happen in any mode to disconnect SCO When audio is disconnected, only Mode 1 Telecom call will be persisted, both Mode 2 virtual call and Mode 3 voice call will be terminated upon SCO termination and client has to restart the mode. NOTE: SCO termination can either be initiated on the AG side or the HF side TODO(b/79660380): As a workaround, voice recognition will be terminated if virtual call or Telecom call is initiated while voice recognition is ongoing, in case calling app did not call #stopVoiceRecognition(BluetoothDevice) AG - Audio Gateway, device running this HeadsetService, e.g. Android Phone HF - Handsfree device, device running headset client, e.g. Wireless headphones or car kits",
    "contributor": "Mercury",
    "recommendToBlock": false,
    "lastUpdateTime": "2023-11-11T21:52:29.981535200Z"
}